<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.80.0" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Example: Counting Change &middot; Ben&#39;s Solutions to Sicp</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js" integrity="sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"></script>
<script>
 document.addEventListener("DOMContentLoaded", function() {
     renderMathInElement(document.body, {
         
         
         delimiters: [
             {left: '$$', right: '$$', display: true},
             {left: '$', right: '$', display: false},
             {left: '\\(', right: '\\)', display: false},
             {left: '\\[', right: '\\]', display: true}
         ],
         
         throwOnError : false
     });
 });
</script>


</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://benjamin-philip.github.io/sicp/"><h1>Ben&#39;s Solutions to Sicp</h1></a>
      <p class="lead">
       My journey reading Sicp: From learning scheme to building an interpreter. 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://benjamin-philip.github.io/sicp/">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2021. All rights reserved. </p>
  </div>
</aside>

      <main class="content container">
          <div class="post">
  <h1>Example: Counting Change</h1>
  <time datetime=2020-10-24T00:00:00Z class="post-date">Sat, Oct 24, 2020</time>
  <p>In this Example, we write a recursive procedure to calculate
the number of possible ways to tend change to a given value.</p>
<h1 id="the-problem">The Problem</h1>
<p>Suppose you have a sum of 1 dollar. Let&rsquo;s say you bought a
coffee for 90 cents, and the cafeteria needs to pay you
back 10 cents. How do find number of ways to the cafeteria
can pay you back your change? One such way is to manually
count the possible ways.</p>
<p>$$ 10 = 10 $$<br>
$$ 5 + 5 = 10 $$<br>
$$ 5 + 1 + 1 + 1 + 1 + 1 = 10 $$<br>
$$ 1 \times 10 = 10 $$</p>
<p>If this was a larger number, it would just go on and on. Ugh. So how do you count the change
for a number like $0.25 let alone any given number?</p>
<h1 id="my-thoughts">My thoughts</h1>
<p>When you ask for change, say from a shop, you always ask for the
biggest <em>denomination</em>. In the case of the cafeteria, you would
probably expect a dime as change. If a dime is missing,
you ask for the next largest denomination i.e a nickel. Now the Cafe owes
you 10 - 5 dollars i.e 5 dollars. If there&rsquo;s still another nickel, you would take
it. But if they don&rsquo;t have a nickel, you would have to take 5 pennies. But what if they
have only pennies? you would have to take 10 pennies then!</p>
<p>So in short the number of ways to tend 0.10 dollars is the sum of the ways we can tend change
to 0.05 dollars and the ways we only used pennies</p>
<h2 id="making-a-better-description">Making a better description</h2>
<p>The real-life description above gives a very vague description about <em>how</em> we
calculate the ways to tend change. Let us build on it to make
a function for counting change.</p>
<p>Essentially what we are doing is taking an amount ($0.10) and breaking it down
by subtracting from the amount the value of a denomination. We then find the number
of ways we can tend change to that new amount, and then add that to number of ways we
can tend change to <code>amount - another denomination</code>.</p>
<h2 id="managing-denominations">Managing Denominations</h2>
<p>But how do count ways that sucessful and not count the way that aren&rsquo;t?
For that we must figure out how to manage the usable denominations.
We make a function that will return the <em>n</em>th denomination. So this
would can be easily defined as:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">first-denomination</span> k)
  (<span style="color:#66d9ef">cond </span>((= k <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">1</span>)
        ((= k <span style="color:#ae81ff">2</span>) <span style="color:#ae81ff">5</span>)
        ((= k <span style="color:#ae81ff">3</span>) <span style="color:#ae81ff">10</span>)
        ((= k <span style="color:#ae81ff">4</span>) <span style="color:#ae81ff">25</span>)
        ((= k <span style="color:#ae81ff">5</span>) <span style="color:#ae81ff">50</span>)))
</code></pre></div><p>Now to make our program compatible with another currency,
all you will have to do is adjust this function accordingly.</p>
<h2 id="counting-change">Counting change</h2>
<p>We now have description that is still quite vague but gives us an
idea of what is happening. Let us improve it even more.</p>
<p>We said that essentially we are adding the sum of <code>ways(amount - first-denomination(n))</code> where
we add the value of all ways (with n having different values). Let us change this bit. We will add
the concept of being allowed use a certain type of coin and all coins below that. We will also change
our logic a bit:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lisp" data-lang="lisp">ways{ <span style="color:#ae81ff">100</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">5</span> } <span style="color:#a6e22e">=</span> ways{ <span style="color:#ae81ff">100</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">5</span> <span style="color:#a6e22e">-</span> <span style="color:#ae81ff">1</span> }      <span style="color:#75715e">;   never use any 50-cent coins</span>
                 <span style="color:#a6e22e">+</span>                       <span style="color:#75715e">; OR</span>
                 ways{ <span style="color:#ae81ff">100</span> <span style="color:#a6e22e">-</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">,</span>  <span style="color:#ae81ff">5</span> }    <span style="color:#75715e">;   may use 50-cent coins, so use one</span>
</code></pre></div><p>We will sum the ways we can use 50 cents and subtract from amount 50,
or not never use 50 cent coins so that we can find another not involving
50 cents. (In this case, this can be 25 + 25 + 25 + 25)</p>
<p>In general we sum <code>ways(amount - first-denomination(k), k)</code> and <code>ways(amount, k - 1)</code>.</p>
<p>Now we can define what happens when we have reached, the end of the algorithm: when on the params are
0 or less than 0:</p>
<ul>
<li>If <code>amount</code> is exactly 0, we should count that as 1 way to make change.</li>
<li>If <code>amount</code> is less than 0, we should count that as 0 ways to make change.</li>
<li>If kind of coins allowed is less than 0, count that as 0 ways to make change.</li>
</ul>
<h1 id="writing-the-code">Writing the code</h1>
<p>We shall now define our recursive procedure:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">cc</span> amount kind-of-coins)
  (<span style="color:#66d9ef">cond </span>((= amount <span style="color:#ae81ff">0</span>)<span style="color:#ae81ff">1</span>)
        ((<span style="color:#66d9ef">or </span>(&lt; amount <span style="color:#ae81ff">0</span>)  (= kinds-of-coins <span style="color:#ae81ff">0</span>)) <span style="color:#ae81ff">0</span>)
        (<span style="color:#66d9ef">else </span>(+ (<span style="color:#a6e22e">cc</span> amount
                     (- kinds-of-coins <span style="color:#ae81ff">1</span>))
                 (<span style="color:#a6e22e">cc</span> (- amount
                        (<span style="color:#a6e22e">first-denomination</span> kinds-of-coins))
                    kinds-of-coins)))))
</code></pre></div><p>This entire script is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">count-change</span> amount)
  (<span style="color:#a6e22e">cc</span> <span style="color:#ae81ff">5</span> amount))

(<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">cc</span> n-value amount)
  (<span style="color:#66d9ef">cond </span>((= amount <span style="color:#ae81ff">0</span> ) <span style="color:#ae81ff">1</span>)
	(( <span style="color:#66d9ef">or </span>(= n-value <span style="color:#ae81ff">0</span>) (&lt; amount n-value)) <span style="color:#ae81ff">0</span>)
	(<span style="color:#66d9ef">else </span>(+ (<span style="color:#a6e22e">cc</span> (- n-value <span style="color:#ae81ff">1</span> ) amount) 
		 (<span style="color:#a6e22e">cc</span> n-value (- amount (<span style="color:#a6e22e">first-denomination</span> n-value)))))))

(<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">first-denomination</span> n)
  (<span style="color:#66d9ef">cond </span>((= n <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">1</span>)
  ((= n <span style="color:#ae81ff">2</span>) <span style="color:#ae81ff">5</span>)
  ((= n <span style="color:#ae81ff">3</span>) <span style="color:#ae81ff">10</span>)
  ((= n <span style="color:#ae81ff">4</span>) <span style="color:#ae81ff">25</span>)
  ((= n <span style="color:#ae81ff">5</span>) <span style="color:#ae81ff">50</span>)))
</code></pre></div><p>This when used with 1 dollar, will give 292.</p>

</div>


      </main>

      
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'G-8PFRPH4Y65', 'auto');
	
	ga('send', 'pageview');
}
</script>

      
  </body>
</html>
