<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.80.0" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Exercise 1.27 &middot; Ben&#39;s Solutions to Sicp</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://benjamin-philip.github.io/sicp/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js" integrity="sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"></script>
<script>
 document.addEventListener("DOMContentLoaded", function() {
     renderMathInElement(document.body, {
         
         
         delimiters: [
             {left: '$$', right: '$$', display: true},
             {left: '$', right: '$', display: false},
             {left: '\\(', right: '\\)', display: false},
             {left: '\\[', right: '\\]', display: true}
         ],
         
         throwOnError : false
     });
 });
</script>


</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://benjamin-philip.github.io/sicp/"><h1>Ben&#39;s Solutions to Sicp</h1></a>
      <p class="lead">
       My journey reading Sicp: From learning scheme to building an interpreter. 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://benjamin-philip.github.io/sicp/">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2021. All rights reserved. </p>
  </div>
</aside>

      <main class="content container">
          <div class="post">
  <h1>Exercise 1.27</h1>
  <time datetime=2020-12-02T00:00:00Z class="post-date">Wed, Dec 2, 2020</time>
  <p>This is the 27th question from Sicp. Here we just Run a procedure.</p>
<h1 id="the-question">The Question</h1>
<p><strong>Exercise 1.27:</strong> Demonstrate that the Carmichael numbers listed in
Footnote 1.47 really do fool the Fermat test. That is, write a proce-
dure that takes an integer n and tests whether a n is congruent to
a modulo n for every a &lt; n , and try your procedure on the given
Carmichael numbers.</p>
<h1 id="my-thoughts">My thoughts</h1>
<p>This is also rather simple. We just need to use the Fermat Test and
prove that is is fooled by the Carmichael numbers. Here is Footnote 47
for out reference.</p>
<blockquote>
<p>Numbers that fool the Fermat test are called Carmichael numbers, and little
is known about them other than that they are extremely rare. There are 255
Carmichael numbers below 100,000,000. The smallest few are 561, 1105, 1729,
2465, 2821, and 6601. In testing primality of very large numbers chosen at random,
the chance of stumbling upon a value that fools the Fermat test is less than the
chance that cosmic radiation will cause the computer to make an error in carrying
out a “correct” algorithm. Considering an algorithm to be inadequate for the first
reason but not for the second illustrates the difference between mathematics and
engineering.</p>
</blockquote>
<h1 id="the-answer">The Answer</h1>
<p>This is the Fermat test :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">expmod</span> base exp m)
(<span style="color:#66d9ef">cond </span>((= exp <span style="color:#ae81ff">0</span>) <span style="color:#ae81ff">1</span>)
      ((even? exp)
 (remainder (<span style="color:#a6e22e">square</span> (<span style="color:#a6e22e">expmod</span> base (/ exp <span style="color:#ae81ff">2</span>) m))
	   m))
(<span style="color:#a6e22e">else</span>
 (remainder (* base (<span style="color:#a6e22e">expmod</span> base (- exp <span style="color:#ae81ff">1</span>) m))
	   m))))
	 	   
(<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">fermat-test</span> n)
  (<span style="color:#66d9ef">define </span>(<span style="color:#a6e22e">try-it</span> a)
    (= (<span style="color:#a6e22e">expmod</span> a n n) a))
  (<span style="color:#a6e22e">try-it</span> (+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">random</span> (- n <span style="color:#ae81ff">1</span>)))))
</code></pre></div><p>And here is what I got from the REPL:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#a6e22e">fermat-test</span> <span style="color:#ae81ff">561</span>)

<span style="color:#75715e">;Value: #t</span>

<span style="color:#ae81ff">3</span> error&gt; (<span style="color:#a6e22e">fermat-test</span> <span style="color:#ae81ff">1105</span>)

<span style="color:#75715e">;Value: #t</span>

<span style="color:#ae81ff">3</span> error&gt; (<span style="color:#a6e22e">fermat-test</span> <span style="color:#ae81ff">1729</span>)

<span style="color:#75715e">;Value: #t</span>

<span style="color:#ae81ff">3</span> error&gt; (<span style="color:#a6e22e">fermat-test</span> <span style="color:#ae81ff">2465</span>)

<span style="color:#75715e">;Value: #t</span>

<span style="color:#ae81ff">3</span> error&gt; (<span style="color:#a6e22e">fermat-test</span> <span style="color:#ae81ff">2821</span>)

<span style="color:#75715e">;Value: #t</span>

<span style="color:#ae81ff">3</span> error&gt; (<span style="color:#a6e22e">fermat-test</span> <span style="color:#ae81ff">6601</span>)

<span style="color:#75715e">;Value: #t</span>
</code></pre></div><p>There you go. The Carmichael numbers fool the Fermat test.</p>

</div>


      </main>

      
      
      
  </body>
</html>
